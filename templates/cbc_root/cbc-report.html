{% load static %}
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>CedarPort</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
    
  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/remixicon/remixicon.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/quill/quill.snow.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/quill/quill.bubble.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/simple-datatables/style.css' %}" rel="stylesheet">
  <link href="{% static 'assets/fonts/Noto_Sans/NotoSans-Regular.ttf' %}" rel="stylesheet">
  <link href="{% static 'assets/fonts/Source_Code/SourceCodePro-Regular.ttf' %}" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@200&display=swap" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'assets/css/style.css' %}" rel="stylesheet">
  <link href="{% static 'assets/css/custom-style.css' %}" rel="stylesheet">
		
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

   <style>
    
  </style>     
	</head>
	<body>
		<button class="btn btn-secondary" onclick="generatePDF()">Download as PDF</button>
<div id="invoice">
          <div class="card" style="padding:5px 20px 5px; border:0px; margin-bottom:10px;">
          <br>
            <div class="">
            <img src="{% static 'assets/img/cvh.png' %}" style="height:40px; padding-left:357px" class="img-fluid rounded-start" alt="...">
              <h5 class="card-title" style="text-align:center; color:#760854; font-weight:bold; letter-spacing: 5px;">CEDARVILLE HOSPITAL</h5>
                <div class="template-head">
                  <p>HOHOE VOLTA REGION, GHANA</p>
                  <p>www.cedarvillehospital.com</p>
                  <p>+(233)54 124 9464 / +(233)54 570 3694</p>
                </div>
                
                <hr>
                        <div class="template-head-info">
                            <div class="container">
                                        <div class="row">
                                        <div class="col-sm-8">Name: <span class="info-text"> {{cbc.name}}</span></div>
                                        <div class="col-sm-4">Age/Sex: <span class="info-text"> {{cbc.age}} yrs / {{cbc.sex}}</span> </div>
                                         </div>
                                         <div class="row">
                                         <div class="col-sm-8">Result Reported:<span class="info-text-annex"> {{cbc.created_on}}</span></div>
                                          <div class="col-sm-4">Sample Received:<span class="info-text-annex"> {{cbc.date}}</span></div>
                                          <div class="col-sm">Report ID: <span class="info-text-annex"> {{cbc.report_id}}</span></div>
                                         </div>
                              </div>
                        </div>
                <hr>
            </div>
          </div>

    <div class="contain" style="padding: 10px 120px 20px;">

     <div class="results-table">
    
            <div class="">
              <h5 class="card-title" style="font-family: monospace; 
                                            text-align:center; font-weight:bold; 
                                            line-height:3px;
                                            color:#760854;">HAEMATOLOGY</h5>
              
              <!-- Active Table -->
              <table class="table table-borderless">
                <thead>
                  <tr>
                    
                    <th scope="col">TEST</th>
                    <th scope="col">RESULT</th>
                    <th scope="col">REF. RANGE</th>
                    <th scope="col">UNIT</th>
                    <th scope="col"></th>
                    
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    
                    <td>WBC</td>
                    <td>{{cbc.wbc}}</td>
                    <td>4.0 - 12.0 </td>
                    <td>10<sup>3</sup></td>
                  {% if cbc.wbc < 4 %}
                    <td> L </td>
                  {% elif cbc.wbc > 12 %}
                    <td> H </td>
                  {% endif %}
                    
                  </tr>
                  <tr>
                    
                    <td>RBC</td>
                    <td>{{cbc.rbc}}</td>
                    <td>3.8 - 5.8</td>
                    <td>10<sup>6</sup></td>
                  {% if cbc.rbc < 3.8 %}
                    <td> L </td>
                  {% elif cbc.rbc > 5.8 %}
                    <td> H </td>
                  {% endif %}
                    
                  </tr>
                  <tr>
                    
                    <td>Hb</td>
                    <td>{{cbc.hb}}</td>
                    {% if cbc.sex == 'female'%}
                    <td>11.5    -    16.5</td>
                    {% endif %}
                    <td>13.2    -   16.6</td>
                    <td>g/dL</td>
                  {% if cbc.hb < 9.5 %}
                    <td> L </td>
                  {% elif cbc.hb > 17 %}
                    <td> H </td>
                  {% endif %}

                    
                  </tr>
                  <tr>
                  
                    <td>HCT</td>
                    <td>{{cbc.hct}}</td>
                    {% if cbc.sex == 'female' %}
                    <td>35.5    -   44.9</td>
                    {% endif %}
                    <td>38.3 - 48.6 </td>
                    <td>%</td>
                    
                  </tr>
                  <tr>
                  
                    <td>PLT</td>
                    <td>{{cbc.plt}}</td>
                    <td>150 - 450</td>
                    <td>10<sup>3</sup></td>
                  {% if cbc.plt < 150 %}
                    <td> L </td>
                  {% elif cbc.plt > 450 %}
                    <td> H </td>
                  {% endif %}
                  </tr>

                    <td>MCV</td>
                    <td>{{cbc.mcv}}</td>
                    <td>76 - 99</td>
                    <td>fl</td>
                  </tr>
                    <td>MCH</td>
                    <td>{{cbc.mch}}</td>
                    <td>26 - 34</td>
                    <td>pg</td>
                  </tr>
                  <tr>
                    <td>MCHC</td>
                    <td>{{cbc.mchc}}</td>
                    <td>30 - 37</td>
                    <td>g/dL</td>
                  </tr>
                  <tr>
                    <td>RDW</td>
                    <td>{{cbc.rdw}}</td>
                    {% if cbc.sex == 'female' %}
                    <td>12.2 - 16.1 </td>
                    {% endif %}
                    <td>11.8 - 14.5 </td>
                    <td>%</td>
                  </tr>
                  <tr>
                    <td>LYM</td>
                    <td>{{cbc.lym}}</td>
                    <td>1.0 - 4.0</td>
                    <td>10<sup>3</sup></td>
                  </tr>
                  <tr>
                    <td>LYM %</td>
                    <td>{{cbc.lym_p}}</td>
                    <td>18 - 45</td>
                    <td>%</td>
                  </tr>
                </tbody>
              </table>
              <!-- End Tables without borders -->
              <hr>
              <p style="font-size:x-small">
              <span style="font-weight:bold">NOTE:</span> As with all diagnostic tests, this result must be interpreted together
               with other clinical information available about the said client.</p>
            </div>
      </div>
</div>


<div class="card" style="padding:5px 20px 5px; border:0px;
                         margin-bottom:0px;">       
    <div class="" > 
          <hr>
          <div class="footer-text">
                  <div class="row">
                      <div class="col-sm">Clinician: Dr Robert Doh </div>
                      <p>
                      Lab personnel: Worde Doris 
                                        </p>
                  </div>
            </div>

          <hr>  
          <div class = "footer-bottom">**This is a computer generated report and no signature
          is required.
          </div> 
    </div>    
</div>        

</div>  

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
 <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>
  <script src="{% static 'assets/vendor/quill/quill.min.js' %}"></script>
  <script src="{% static 'assets/vendor/tinymce/tinymce.min.js' %}"></script>
  <script src="{% static 'assets/vendor/simple-datatables/simple-datatables.js' %}"></script>
  <script src="{% static 'assets/vendor/chart.js/chart.min.js' %}"></script>
  <script src="{% static 'assets/vendor/apexcharts/apexcharts.min.js' %}"></script>
  <script src="{% static 'assets/vendor/echarts/echarts.min.js' %}"></script>

  <!-- Template Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>
  <script src="{% static 'assets/js/html2pdf.min.js' %}"></script>
  
		<script>
			function generatePDF() {
	                    // Choose the element that our invoice is rendered in.
	                    const element = document.getElementById('invoice');
	                    // Choose the element and save the PDF for our user.
	                    html2pdf()
		                .set({ html2canvas: { scale: 5 } })
		                .from(element)
		                .save();
                                    }
		</script>
	</body>
</html>